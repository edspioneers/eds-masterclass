<html><head></head><main tabindex="-1" id="main"><div class="mx-auto px-4 pb-16 pt-8 md:pt-16 max-w-screen-md"><article class=""><div class=""><h1 class="blog-header text-4xl font-bold text-gray-800 sm:text-6xl col-span-7">What's coming to JavaScript</h1></div><div class="markdown-body pb-16"><p>Deno is a JavaScript company, and we believe JavaScript should be simple,
powerful, and fun. Deno aims to modernize JavaScript and its tooling, with
<a href="https://docs.deno.com/runtime/fundamentals/typescript/" rel="noopener noreferrer">native TypeScript support</a>,
and bridging the gap between server-side and browser JavaScript with
<a href="https://docs.deno.com/runtime/reference/web_platform_apis/" rel="noopener noreferrer">web standard APIs</a>.
As such, we‚Äôre very invested in advancing the JavaScript ecosystem and
<a href="/blog/deno-joins-tc39" rel="noopener noreferrer">participate in standards committees like TC39</a>, because
we want JavaScript to be better and more effective for everyone.</p>
<p>TC39‚Äôs 108th meeting recently
<a href="https://tc39.es/process-document/" rel="noopener noreferrer">advanced 9 proposals</a> across 4 stages, which
represent rough ideas (stage 0) to fully standardized features (stage 4).</p>
<p>Here‚Äôs a brief summary of each and what that might mean for the future of
JavaScript.</p>
<p><a href="#advanced-to-stage-4">Stage 4</a></p>
<ul>
<li><a href="#explicit-resource-management-using">Explicit Resource Management (<code>using</code>)</a></li>
<li><a href="#arrayfromasync"><code>Array.fromAsync</code></a></li>
<li><a href="#erroriserror"><code>Error.isError</code></a></li>
</ul>
<p><a href="#stage-3">Stage 3</a></p>
<ul>
<li><a href="#immutable-arraybuffer">Immutable <code>ArrayBuffer</code></a></li>
</ul>
<p><a href="#stage-2">Stage 2</a></p>
<ul>
<li><a href="#randomseeded"><code>Random.Seeded</code></a></li>
<li><a href="#numberprototypeclamp"><code>Number.prototype.clamp</code></a></li>
</ul>
<p><a href="#stage-1">Stage 1</a></p>
<ul>
<li><a href="#keep-trailing-zeros">Keep Trailing Zeros</a></li>
<li><a href="#comparisons">Comparisons</a></li>
<li><a href="#random-functions">Random Functions</a></li>
</ul>
<h2 id="advanced-to-stage-4">Advanced to stage 4</h2>
<h3 id="explicit-resource-management-using">Explicit Resource Management (<code>using</code>)</h3>
<p>The new <code>using</code> declaration (and its async variant <code>await using</code>) adds
deterministic cleanup for resources, inspired by languages like C# and Python.
Objects can define <code>[Symbol.dispose]()</code> (or <code>[Symbol.asyncDispose]()</code>) that is
automatically called when a <code>using</code> block ends. For example:</p>
<div class="highlight highlight-source-jsx notranslate"><pre><span class="token keyword">class</span> <span class="token class-name">FileHandle</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">name</span> <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token comment">/* open file... */</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span><span class="token known-class-name class-name">Symbol</span><span class="token punctuation">.</span><span class="token property-access">dispose</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> closed</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* close file */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">{</span>
    using file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileHandle</span><span class="token punctuation">(</span><span class="token string">"data.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// read from file...</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// file.[Symbol.dispose]() was called here automatically</span>
<span class="token punctuation">}</span>
<span class="token function">readFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs "data.txt closed"</span></pre></div><p>This ensures cleanup (like closing files or streams) even if an exception occurs
inside the block, making resource management easier and safer.</p>
<p>This feature is supported in
<a href="https://v8.dev/features/explicit-resource-management#explicit-resource-management-support" rel="noopener noreferrer">Chrome 134, Firefox 134,</a>
and <a href="/blog/v2.3#explicit-resource-management-and-the-using-keyword" rel="noopener noreferrer">Deno v2.3</a>.</p>
<p>In Deno you can already use the <code>using</code> keyword to manage resources like file
handles (<a href="https://docs.deno.com/api/web/~/File" rel="noopener noreferrer"><code>Deno.File</code></a>), network sockets
(<a href="https://docs.deno.com/api/deno/~/Deno.Conn" rel="noopener noreferrer"><code>Deno.Conn</code></a>), and more. For
example, here we stop a HTTP server automatically after having made a request to
it:</p>
<div class="highlight highlight-source-ts notranslate"><pre>using server <span class="token operator">=</span> <span class="token maybe-class-name">Deno</span><span class="token punctuation">.</span><span class="token method function property-access">serve</span><span class="token punctuation">(</span><span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token number">8000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Response</span></span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token keyword control-flow">await</span> response<span class="token punctuation">.</span><span class="token method function property-access">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Hello, world!"</span>

<span class="token comment">// The server is automatically closed here because of the `using` keyword</span></pre></div><p>The Deno team is also interested in using the <code>using</code> keyword to simplify async
context propagation through In fact, Deno‚Äôs support for
<a href="https://github.com/tc39/proposal-async-context" rel="noopener noreferrer">async context propagation</a>
(stage 2) already enables us to do things like
<a href="/blog/zero-config-debugging-deno-opentelemetry#the-issue-with-logs" rel="noopener noreferrer">auto-instrumentation of <code>console.log</code> to include HTTP information</a>.
However, right now every time you want to create a new span to track some work,
you need to create a new function and run it. This is cumbersome:</p>
<div class="highlight highlight-source-ts notranslate"><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> parent <span class="token operator">=</span> tracer<span class="token punctuation">.</span><span class="token method function property-access">startSpan</span><span class="token punctuation">(</span><span class="token string">"doWork"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> parent<span class="token punctuation">.</span><span class="token method function property-access">run</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"doing some work..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div><p>The Deno team is proposing
<a href="https://github.com/tc39/proposal-async-context-disposable" rel="noopener noreferrer">disposable <code>AsyncContext.Variable</code></a>,
which would allow you to use the <code>using</code> keyword to simplify this code:</p>
<div class="highlight highlight-source-ts notranslate"><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  using parent <span class="token operator">=</span> tracer<span class="token punctuation">.</span><span class="token method function property-access">startActiveSpan</span><span class="token punctuation">(</span><span class="token string">"doWork"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"doing some work..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div><p>See? Much less boilerplate!</p>
<h3 id="arrayfromasync"><code>Array.fromAsync</code></h3>
<p><a href="https://github.com/tc39/proposal-array-from-async" rel="noopener noreferrer"><code>Array.fromAsync</code></a> is like
<code>Array.from</code> but works with async iterables, returning a <strong>Promise</strong> that
resolves to the resulting array. It also supports a mapping function and
<code>thisArg</code>, just like <code>Array.from</code>.</p>
<p>For example, given an async generator of values, you can write:</p>
<div class="highlight highlight-source-jsx notranslate"><pre><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">yield</span> <span class="token keyword control-flow">await</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">yield</span> <span class="token keyword control-flow">await</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token known-class-name class-name">Array</span><span class="token punctuation">.</span><span class="token method function property-access">fromAsync</span><span class="token punctuation">(</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2]</span></pre></div><p>Here <code>Array.fromAsync(generate())</code> returns a promise that resolves to <code>[1, 2]</code>
once all yielded values are ready. This makes common async collection patterns
much simpler and more readable.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fromAsync#browser_compatibility" rel="noopener noreferrer"><code>Array.fromAsync</code> is available in all browsers, as well as Deno v1.38 and Node v22.</a></p>
<h3 id="erroriserror"><code>Error.isError</code></h3>
<p><a href="https://github.com/tc39/proposal-is-error" rel="noopener noreferrer"><code>Error.isError(value)</code></a> is a new
built‚Äëin for reliably detecting error objects. It returns <code>true</code> if <code>value</code> is
any kind of Error (including cross-realm or subclassed errors), and <code>false</code>
otherwise. For example:</p>
<div class="highlight highlight-source-jsx notranslate"><pre><span class="token known-class-name class-name">Error</span><span class="token punctuation">.</span><span class="token method function property-access">isError</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"oops"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token known-class-name class-name">Error</span><span class="token punctuation">.</span><span class="token method function property-access">isError</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"TypeError"</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"oops"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></pre></div><p>While this is almost never needed, authoring certain code, such as some
polyfills, can be difficult without this functionality.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/isError#browser_compatibility" rel="noopener noreferrer"><code>Error.isError</code> has support in all browsers</a>,
as well as in <a href="/blog/v2.2" rel="noopener noreferrer">Deno v2.2</a>.</p>
<h2 id="stage-3">Stage 3</h2>
<h3 id="immutable-arraybuffer">Immutable <code>ArrayBuffer</code></h3>
<p><a href="https://github.com/tc39/proposal-immutable-arraybuffer" rel="noopener noreferrer">Immutable <code>ArrayBuffer</code> is now at Stage 3</a>,
introducing <code>transferToImmutable()</code> and <code>sliceToImmutable()</code> methods. Calling
<code>transferToImmutable()</code> on a buffer moves its data into a new, unchangeable
buffer and detaches the original. For example:</p>
<div class="highlight highlight-source-jsx notranslate"><pre><span class="token keyword">let</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> imm <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token method function property-access">transferToImmutable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// buf is now detached (byteLength 0), and imm is a new immutable ArrayBuffer of length 100</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token property-access">byteLength</span><span class="token punctuation">,</span> imm<span class="token punctuation">.</span><span class="token property-access">byteLength</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0, 100</span>

<span class="token comment">// attempting to modify imm will throw a TypeError</span>
imm<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: Cannot modify an immutable ArrayBuffer</span></pre></div><p>Similarly, <code>sliceToImmutable(start, end)</code> creates an immutable copy of a
subrange. Immutable buffers <em>cannot be detached or modified</em>, which makes
sharing binary data (e.g. across threads or workers) safer and more efficient.</p>
<p>We are planning to make use of this in Deno to optimize various APIs that take
byte arrays as inputs, such as <code>new Response()</code> or <code>Deno.writeFile()</code>. This will
allow us to avoid unnecessary copies and improve performance when working with
binary data.</p>
<h2 id="stage-2">Stage 2</h2>
<h3 id="randomseeded"><code>Random.Seeded</code></h3>
<p>Current pseudo-random number generator methods (<code>Math.random()</code> for instance)
are automatically seeded, making it not reproducible across runs or realms.
However, there are times when you‚Äôd want a reproducible set of random values.</p>
<p><a href="https://github.com/tc39/proposal-seeded-random" rel="noopener noreferrer">This proposal</a> for a new
<code>SeededPRNG</code> class provides reproducible randomness by allowing you to set a
seed. You create a <code>Random.Seeded(seedValue)</code> object and use its <code>.random()</code>
method instead of <code>Math.random()</code>. For example:</p>
<div class="highlight highlight-source-jsx notranslate"><pre><span class="token keyword">const</span> prng <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random<span class="token punctuation">.</span>Seeded</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>prng<span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// prints the same sequence on every run given seed 42</span>
<span class="token punctuation">}</span></pre></div><p>This is useful in games or simulations where repeatability matters. You can also
derive new seeds or clone state from an existing <code>PRNG</code> for complex scenarios.</p>
<h3 id="numberprototypeclamp"><code>Number.prototype.clamp</code></h3>
<p><a href="https://github.com/tc39/proposal-math-clamp" rel="noopener noreferrer">The <code>Number.prototype.clamp(min, max)</code> function</a>
(originally <code>Math.clamp</code>) returns a number bounded between <code>min</code> and <code>max</code>. This
is handy for keeping values within a range. For example:</p>
<div class="highlight highlight-source-jsx notranslate"><pre><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">clamp</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>

<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">clamp</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 (floored at 0)</span>
<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">clamp</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10 (capped at 10)</span></pre></div><p>If <code>min &gt; max</code>, it throws a <code>RangeError</code>. This avoids verbose patterns like
<code>Math.min(Math.max(x, min), max)</code> and clarifies intent.</p>
<h2 id="stage-1">Stage 1</h2>
<h3 id="keep-trailing-zeros">Keep Trailing Zeros</h3>
<p><a href="https://github.com/tc39/proposal-decimal" rel="noopener noreferrer">New formatting options in <code>Intl.NumberFormat</code></a>
will allow preserving or stripping trailing zeros in formatted numbers, which is
useful for representing human-readable decimal values (e.g. money).</p>
<p>The <code>trailingZeroDisplay: "auto"</code> setting (default) <strong>keeps zeros</strong> according to
the specified precision; <code>"stripIfInteger"</code> removes them when the number is an
integer. For example:</p>
<div class="highlight highlight-source-jsx notranslate"><pre><span class="token comment">// Keep two decimal places (auto-preserve zeros):</span>
<span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>NumberFormat</span><span class="token punctuation">(</span><span class="token string">"en"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">minimumFractionDigits</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">trailingZeroDisplay</span><span class="token operator">:</span> <span class="token string">"auto"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "1.50"</span>

<span class="token comment">// Strip zeros if unnecessary:</span>
<span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>NumberFormat</span><span class="token punctuation">(</span><span class="token string">"en"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">minimumFractionDigits</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token literal-property property">trailingZeroDisplay</span><span class="token operator">:</span> <span class="token string">"stripIfInteger"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "2"  (not "2.0")</span></pre></div><p>This gives developers finer control over number formatting (e.g. currency or
fixed-point output) without ad-hoc string manipulation.</p>
<h3 id="comparisons">Comparisons</h3>
<p><a href="https://github.com/tc39/proposal-inspector" rel="noopener noreferrer">The <strong>Comparisons</strong> proposal</a> aims
to standardize how JavaScript produces <strong>human-readable representations of
values</strong> ‚Äî similar to <code>util.inspect</code> in Node.js or how test runners print diffs.</p>
<p>The goal is to give test frameworks and console tools a consistent way to
generate diffs ‚Äî especially across runtimes and realms.</p>
<h3 id="random-functions">Random Functions</h3>
<p><a href="https://github.com/tc39/proposal-random-functions" rel="noopener noreferrer">This proposal introduces a new <code>Random</code> namespace</a>
with convenience methods to avoid common pitfalls with randomness. The methods
in the <code>Random</code> namespace not only can generate random numerical values, but
also accept and return collections.</p>
<p>Here are some examples:</p>
<div class="highlight highlight-source-jsx notranslate"><pre><span class="token comment">// Random integer between -5 and 5</span>
<span class="token maybe-class-name">Random</span><span class="token punctuation">.</span><span class="token method function property-access">int</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>

<span class="token comment">// Random Number between 0 and 10</span>
<span class="token maybe-class-name">Random</span><span class="token punctuation">.</span><span class="token method function property-access">number</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>

<span class="token comment">// Random number between 0, 5 with steps of 0.1</span>
<span class="token maybe-class-name">Random</span><span class="token punctuation">.</span><span class="token method function property-access">number</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1.1</span>

<span class="token comment">// Randomly select n items from an array.</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token maybe-class-name">Random</span><span class="token punctuation">.</span><span class="token method function property-access">take</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token string">"Carol"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['Alice', 'Bob']</span>

<span class="token comment">// With replacement.</span>
<span class="token maybe-class-name">Random</span><span class="token punctuation">.</span><span class="token method function property-access">take</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token string">"Carol"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['Alice', 'Alice']</span>

<span class="token comment">// With weights.</span>
<span class="token maybe-class-name">Random</span><span class="token punctuation">.</span><span class="token method function property-access">take</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token string">"Carol"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">weights</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['Alice', 'Bob']</span>

<span class="token comment">// Select one random item.</span>
<span class="token maybe-class-name">Random</span><span class="token punctuation">.</span><span class="token method function property-access">sample</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token string">"Carol"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Bob'</span>

<span class="token comment">// Mutate and return a "shuffled" Array in-place.</span>
<span class="token maybe-class-name">Random</span><span class="token punctuation">.</span><span class="token method function property-access">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [4,2,1,3]</span>

<span class="token comment">// Return a new shuffled array.</span>
<span class="token keyword">const</span> shuffled <span class="token operator">=</span> <span class="token maybe-class-name">Random</span><span class="token punctuation">.</span><span class="token method function property-access">toShuffled</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div><p>The goal is to make random-related code <strong>safer and more concise</strong>, reducing
off-by-one errors and improving consistency.</p>
<h1 id="whats-next">What‚Äôs next</h1>
<p>TC39 continues to evolve and improve JavaScript to meet the needs of modern
developers. Deno is committed to web standards and actively participates in
these discussions to use JavaScript, which directly simplifies how you could
write JavaScript in Deno (see
<a href="https://github.com/tc39/proposal-async-context" rel="noopener noreferrer">async context propagation</a> and
our
<a href="/blog/zero-config-debugging-deno-opentelemetry" rel="noopener noreferrer">built-in OpenTelemetry API</a>).
The next TC39 meeting where these proposals will be further discussed is
scheduled for late September.</p>
<blockquote>
<p><strong>üö®Ô∏è <a href="/deploy" rel="noopener noreferrer">There have been major updates to Deno Deploy!</a> üö®Ô∏è</strong></p>
<ul>
<li><a href="https://www.youtube.com/watch?v=fRFqZsBivCo" rel="noopener noreferrer">Improved Playgrounds with livestreaming logs, traces, and templates like Next.js</a></li>
<li><a href="https://www.youtube.com/watch?v=PwDU8yTZmUM" rel="noopener noreferrer">Automatic and immediate observability and telemetry</a></li>
<li><a href="https://x.com/deno_land/status/1935625197295739103" rel="noopener noreferrer">Simpler management for environment variables</a></li>
</ul>
<p>and <a href="https://docs.deno.com/deploy/early-access/changelog/" rel="noopener noreferrer">much more!</a></p>
<p><a href="/deploy" rel="noopener noreferrer">Get early access today.</a></p>
</blockquote>
</div></article></div><table><tr><th colspan="2">Metadata</th></tr><tr><td>Title</td><td>What's coming to JavaScript | Deno</td></tr><tr><td>Description</td><td>Here are proposals that were advanced at the last TC39 meeting and what that means for the future of JavaScript.</td></tr><tr><td>Image</td><td><img src="http://localhost:3001/blog/updates-from-tc39/og.png" alt="What's coming to JavaScript | Deno"></td></tr><tr><td>Date</td><td>June 26, 2025</td></tr><tr><td>Author</td><td>Luca Casonato, Andy Jiang</td></tr><tr><td>Tags</td><td>Engineering</td></tr></table></main></html>